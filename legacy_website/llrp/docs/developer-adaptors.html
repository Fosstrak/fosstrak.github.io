<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Fosstrak LLRP Commander - Developers guide - Adaptors</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <div id="banner">
                  <a href="../" id="bannerLeft"  >
    
                                            <img src="../images/banner_left.gif" alt="Fosstrak" />
    
            </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
    
  
    
            <div class="xleft">
      <!--
        Version: 1.1.1-SNAPSHOT
	-->
                     
                <a href="../../index.html">Fosstrak</a>
                &gt;
      
                <a href="../">LLRP Commander</a>
                          </div>
            <div class="xright">            <a href="../../epcis/index.html">EPCIS Repository</a>
            |
                <a href="../../tdt/index.html">TDT Engine</a>
            |
                <a href="../../fc/index.html">ALE Middleware</a>
            |
                <a href="../index.html">LLRP Commander</a>
            
  

  
    
    
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
    
  
    
                   <h5>LLRP Commander</h5>
            <ul>
              
    <li class="none">
                    <a href="../index.html">Overview</a>
          </li>
              
    <li class="none">
                    <a href="../features.html">Features</a>
          </li>
              
    <li class="none">
                    <a href="../download.html">Install</a>
          </li>
              
    <li class="none">
                    <a href="../background.html">Background</a>
          </li>
              
    <li class="none">
                    <a href="../license.html">License</a>
          </li>
              
    <li class="none">
                    <a href="../mail-lists.html">Mailing Lists</a>
          </li>
              
    <li class="none">
                    <a href="../issue-tracking.html">Issue Tracking</a>
          </li>
          </ul>
              <h5>Guides and Documentation</h5>
            <ul>
              
    <li class="none">
                    <a href="../docs/user-index.html">User Guide</a>
          </li>
              
          
                    
                  
                  
                  
                  
                  
                  
                        
                  
                        
                  
                        
                  
              
        <li class="expanded">
                    <a href="../docs/developer-index.html">Developer Guide</a>
                  <ul>
                  
    <li class="none">
                    <a href="../docs/developer-installation.html">Installation</a>
          </li>
                  
          
                    
                  
                  
                  
                  
              
        <li class="expanded">
                    <a href="../docs/developer-gui.html">GUI</a>
                  <ul>
                  
    <li class="none">
                    <a href="../docs/developer-graphical.html">Graphical Editor</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/developer-xml.html">XML / Binary Editor</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/developer-navigator.html">Navigator</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/developer-explorer.html">Reader Explorer</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/developer-wizard.html">Wizard</a>
          </li>
              </ul>
        </li>
                  
          
                    
                        
                  
              
        <li class="expanded">
                    <a href="../docs/developer-mgmt.html">Management</a>
                  <ul>
                  
    <li class="none">
                    <a href="../docs/developer-adaptormanagement.html">Adaptor Management</a>
          </li>
                  
    <li class="none">
              <strong>Adaptors</strong>
        </li>
                  
    <li class="none">
                    <a href="../docs/developer-readers.html">Readers</a>
          </li>
              </ul>
        </li>
                  
    <li class="none">
                    <a href="../docs/developer-repository.html">Repository</a>
          </li>
                  
    <li class="none">
                    <a href="../apidocs/index.html">JavaDoc</a>
          </li>
              </ul>
        </li>
          </ul>
              <h5>LLRP Commander Modules</h5>
            <ul>
              
                
                    
              
        <li class="collapsed">
                    <a href="../llrp-adaptor/project-reports.html">LLRP Adaptor</a>
                </li>
              
                
                    
              
        <li class="collapsed">
                    <a href="../llrp_commander/project-reports.html">LLRP Commander</a>
                </li>
          </ul>
                                                 
                        
                        
            <a href="http://www.autoidlabs.org/" title="Auto-ID" class="poweredBy">
                            <img  class="poweredBy"  
                    alt="Auto-ID" 
                    src="../images/logos/supportedByAutoid4.png" 
                    width="90"
                    height="30"
              />
            </a>
                               
  

  
    
    
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Developers guide - Adaptors</h2><div class="section"><h3>Content</h3><ol type="1"><li><a href="#Overview">Overview</a></li><li><a href="#LocalAdaptor">LocalAdaptor</a></li><li><a href="#RemoteAdaptor">RemoteAdaptor</a></li><li><a href="#Definition">Definition</a></li><li><a href="#Undefinition">Undefinition</a></li><li><a href="#Sending">Sending</a></li><li><a href="#Callback">Callback</a></li></ol></div><div class="section"><h3><a name="Overview">Overview</a></h3><p>Adaptors provide an interface for the creation, modification and deletion of LLRP readers.</p><p>For each physical LLRP reader the adaptor creates a logical reader that will then maintain the connection. For more details refer to the chapter <tt>Readers</tt>.</p><p>If you want to know more about the creation of an adaptor instance please refere the the chapter <tt>Adaptor Management</tt>.</p><p>One Implementation of the interface is the class <tt>AdaptorImpl</tt>. Within this guide we will refer to this reference implementation. </p><p>This guide will explain the basic behaviour by explaining the most important methods available in the adaptor interface.</p></div><div class="section"><h3><a name="LocalAdaptor">LocalAdaptor</a></h3><p>The adaptor runs locally on the same machine as the LLRP GUI Client. In this modes all the calls to the adaptor are performed locally.</p></div><div class="section"><h3><a name="RemoteAdaptor">RemoteAdaptor</a></h3><p>This mode allows the adaptor to be run on a different machine than the LLRP GUI Client (eg. in a filtering and collection environment). That for the adaptor gets exported through java rmi. In this mode of operation a stub gets aquired from the java rmi registry and all calls are performed remotely through this stub.</p><p>The only thing that a user has to take care of is the ip address of the adaptor (only for the creation of the adaptor). The remote adaptor should behave in exactly the same way as the local adaptor.</p></div><div class="section"><h3><a name="Definition">Definition</a></h3><div class="source"><pre>public void define(String readerName, 
                String readerAddress,
                int port, 
                boolean clientInitiatedConnection,
                boolean connectImmediately) 
                throws RemoteException, LLRPRuntimeException;</pre></div><p>With this method you can create a new reader on this adaptor. In the fist step a check is performed whether the specified reader name already exists on the current adaptor.If not a new instance of a reader is generated. </p><p>There exist two different connection models specified by LLRP. </p><ul><li>client initiated: in this model the client tries to establish the connection to the reader.</li><li>reader initiated: in this model the client waits for a reader to establish the connection.</li></ul><p>You can select the profile according the boolean <tt>clientInitiatedConnection</tt>. </p><p>The boolean <tt>connectImmediately</tt> gives you the possibility to delay the connection establishment between the reader-stub and the physical reader. If you set it to false you will have to establish the connection through the reader interface at a later time before using the reader.</p><p><b>Attention</b>: LLRP connections are a 1-to-1 relation. This means one physical reader can only open exactly <b>one</b> connection to a client.</p></div><div class="section"><h3><a name="Undefinition">Undefinition</a></h3><div class="source"><pre>public void undefine(String readerName) throws RemoteException, LLRPRuntimeException;</pre></div><p>When you call this method the reader gets disconnected first and then removed from the adaptor.</p></div><div class="section"><h3><a name="Sending">Sending</a></h3><div class="source"><pre>public void sendLLRPMessage(String readerName, byte[] message) 
    throws RemoteException, LLRPRuntimeException;</pre></div><p>To send an LLRP message to one of the readers you can use this short-cut message. Just provide the reader name and the message.</p><p><b>Remark</b>: We advise you to use the adaptor management to enqueue messages instead of this sending facility. The reason is that a sending through this method is blocking (synchronous) whereas the sending through the adaptor management is (non-blocking) asynchronous.</p></div><div class="section"><h3><a name="Callback">Callback</a></h3><p>Adaptors support a asynchronous callback mechanism for exceptions and for incoming LLRP messages. Before you can use the asynchronous reporting facility you need to register the interface <tt>AsynchronousNotifiable</tt> on the adaptor. Whenever an exception occurs or when a LLRP message arrives the notifier will be updated and be provided with the message/exception.</p><p><b>Notice</b>: When you create an adaptor through the adaptor management this callback mechanism is already setup for you and you will not need to perform any additional steps.</p><p>The registering and deregistering can be done with the following methods:</p><div class="source"><pre>// registering
public void registerForAsynchronous(AsynchronousNotifiable receiver) 
    throws RemoteException;

// deregistering
public void deregisterFromAsynchronous(AsynchronousNotifiable receiver) 
    throws RemoteException;</pre></div><p>The following graphic shall give you an overview to the mechanism of the asynchronous callback mechanism.</p><img src="../images/developer/adaptorAsynchronousNotification.png" alt=" AsynchronousNotification" /><div class="section"><h4>ErrorReporting</h4><p>Whenever an error occurs on one of the readers or on the adaptor the error callback is invoked.</p><div class="source"><pre>public void errorCallback(LLRPRuntimeException e, String readerName) 
    throws RemoteException;</pre></div><p>Basically this corresponds to a observer-Pattern. The observable (in this case the adaptor) notifies all the observers (in this case all the registered asynchronous notifiables). The observable triggers the method <tt>notifyError</tt>.</p></div><div class="section"><h4>MessageReporting</h4><p>Whenever an LLRP message arrived from one of the readers, the message callback is invoked.</p><div class="source"><pre>public void messageReceivedCallback(byte[] message, String readerName)
                        throws RemoteException;</pre></div><p>As with the error callback this is comparable to the observer- pattern. The observable triggers the method <tt>notify</tt> on all the observers.</p></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2009
    
          
  

  
    
    
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-9846531-1");
      pageTracker._trackPageview();
      } catch(err) {}
      </script> 
  </body>
</html>
