<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Fosstrak Filtering and Collection - CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <div id="banner">
                  <a href="../../" id="bannerLeft"  >
    
                                            <img src="../images/banner_left.gif" alt="Fosstrak" />
    
            </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
    
  
    
            <div class="xleft">
      <!--
        Version: 1.0.3-SNAPSHOT
	-->
                     
                <a href="../../index.html">Fosstrak</a>
                &gt;
      
                <a href="../../../../">ALE Middleware</a>
                &gt;
      
          fc-client
                        </div>
            <div class="xright">            <a href="../../epcis/index.html">EPCIS Repository</a>
            |
                <a href="../../tdt/index.html">TDT Engine</a>
            |
                <a href="../index.html">ALE Middleware</a>
            |
                <a href="../../llrp/index.html">LLRP Commander</a>
            
  

  
    
    
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
    
  
    
                   <h5>ALE Middleware</h5>
            <ul>
              
    <li class="none">
                    <a href="../index.html">Overview</a>
          </li>
              
    <li class="none">
                    <a href="../features.html">Features</a>
          </li>
              
    <li class="none">
                    <a href="../download.html">Download</a>
          </li>
              
    <li class="none">
                    <a href="../license.html">License</a>
          </li>
              
    <li class="none">
                    <a href="../mail-lists.html">Mailing Lists</a>
          </li>
              
    <li class="none">
                    <a href="../issue-tracking.html">Issue Tracking</a>
          </li>
              
    <li class="none">
                    <a href="../faq.html">FAQ</a>
          </li>
              
    <li class="none">
                    <a href="../apidocs/index.html">JavaDoc</a>
          </li>
          </ul>
              <h5>Guides &amp; Documentation</h5>
            <ul>
              
          
                    
                  
                  
                  
                  
                  
              
        <li class="expanded">
                    <a href="../docs/user-index.html">User Guide</a>
                  <ul>
                  
    <li class="none">
                    <a href="../docs/user-example.html">Quick Start</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/user-installation.html">Install fc-server</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/user-lrdef.html">Define Logical Reader</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/user-testclients.html">Use ALE Clients</a>
          </li>
                  
    <li class="none">
                    <a href="../docs/user-test-scenarios.html">Test Scenarios</a>
          </li>
                  
    <li class="none">
                    <a href="../../capturingapp/index.html">Capturing App</a>
          </li>
              </ul>
        </li>
              
                
                    
                  
                  
                  
                  
                  
                  
                  
              
        <li class="collapsed">
                    <a href="../docs/developer-index.html">Developer Guide</a>
                </li>
          </ul>
              <h5>Filtering and Collection Project Modules</h5>
            <ul>
              
          
                    
                  
                  
                  
                        
                  
                  
              
        <li class="expanded">
                    <a href="project-reports.html">FC Client</a>
                  <ul>
                  
    <li class="none">
                    <a href="changes-report.html">Changes Report</a>
          </li>
                  
    <li class="none">
                    <a href="dependencies.html">Dependencies</a>
          </li>
                  
    <li class="none">
                    <a href="dependency-convergence.html">Dependency Convergence</a>
          </li>
                  
    <li class="none">
                    <a href="pmd.html">PMD Report</a>
          </li>
                  
    <li class="none">
              <strong>CPD Report</strong>
        </li>
                  
    <li class="none">
                    <a href="javancss.html">JavaNCSS Report</a>
          </li>
                  
    <li class="none">
                    <a href="issue-tracking.html">Issue Tracking</a>
          </li>
              </ul>
        </li>
              
                
                    
              
        <li class="collapsed">
                    <a href="../fc-commons/project-reports.html">FC Commons</a>
                </li>
              
                
                    
              
        <li class="collapsed">
                    <a href="../fc-server/project-reports.html">FC Server</a>
                </li>
              
                
                    
              
        <li class="collapsed">
                    <a href="../fc-webclient/project-reports.html">FC Webclient</a>
                </li>
          </ul>
                                                 
                        
                        
            <a href="http://www.autoidlabs.org/" title="Auto-ID" class="poweredBy">
                            <img  class="poweredBy"  
                    alt="Auto-ID" 
                    src="../images/logos/supportedByAutoid4.png" 
                    width="90"
                    height="30"
              />
            </a>
                               
  

  
    
    
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>CPD Results</h2><p>The following document contains the results of PMD's  <a href="http://pmd.sourceforge.net/cpd.html">CPD</a> 4.1.</p></div><div class="section"><h2>Duplications</h2><p><table class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\fosstrak\ale\client\ALEClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALEClient.html#363">363</a></td></tr><tr class="a"><td>org\fosstrak\ale\client\ALELRClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALELRClient.html#375">375</a></td></tr><tr class="b"><td colspan='2'><div class="source"><pre>		panel.add(readerNameValueField);
	}
	
	
	
	/**
	 * This method adds a choose file field to the panel.
	 * 
	 * @param panel to which the choose file field should be added
	 */
	private void addChooseFileField(JPanel panel) {
	
		filePathField = new JTextField();
		
		final FileDialog fileDialog = new FileDialog(this);
		fileDialog.setModal(true);
		fileDialog.addComponentListener(new ComponentAdapter() {
			public void componentHidden(ComponentEvent e) {
				if (fileDialog.getFile() != null) {
					filePathField.setText(fileDialog.getDirectory() + fileDialog.getFile());
				}
			}
		});
		
		final JButton chooseFileButton = new JButton(guiText.getString(&quot;ChooseFileButtonLabel&quot;));
		chooseFileButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				fileDialog.setVisible(true);
			}
		});

		JPanel chooseFileButtonPanel = new JPanel();
		chooseFileButtonPanel.setLayout(new GridLayout(1, 3));
		chooseFileButtonPanel.add(new JPanel());
		chooseFileButtonPanel.add(chooseFileButton);
		chooseFileButtonPanel.add(new JPanel());
		
		panel.add(new JLabel(guiText.getString(&quot;FilePathLabel&quot;)));
		panel.add(filePathField);
		panel.add(chooseFileButtonPanel);
				
	}
	
	/**
	 * This method adds a execute button to the panel.
	 * 
	 * @param panel to which the execute button should be added
	 */
	private void addExecuteButton(JPanel panel) {
		
		if (execButtonPanel == null) {
			
			JButton execButton = new JButton(guiText.getString(&quot;ExecuteButtonLabel&quot;));
			execButton.addActionListener(new ActionListener() {
				public void actionPerformed(ActionEvent e) {
					executeCommand();
				}
			});
			
			execButtonPanel = new JPanel();
			execButtonPanel.setLayout(new GridLayout(1, 3));
			execButtonPanel.add(new JPanel());
			execButtonPanel.add(execButton);
			execButtonPanel.add(new JPanel());
			
		}
		
		panel.add(execButtonPanel);
		
	}

	/**
	 * This method executes the command which is selected in the command selection combobox
	 * with the parameters which are set in the corresponding fields.
	 * To execute the commands, the methods of the ale proxy will be invoked. 
	 */
	private void executeCommand() {
		
		Object result = null;
		String specName = null;
		String textParameter = null;</pre></div></td></tr><table class="bodyTable"></p><p><table class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\fosstrak\ale\client\ALEClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALEClient.html#618">618</a></td></tr><tr class="a"><td>org\fosstrak\ale\client\ALELRClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALELRClient.html#627">627</a></td></tr><tr class="b"><td colspan='2'><div class="source"><pre>				for (String name : logicalReaderNames) {
					specNameComboBox.addItem(name);
				}
			}
			specNameComboBox.setSelectedItem(current);
		}
	}
	
	/**
	 * This method creates a exception dialog and sets it visible.
	 * 
	 * @param message to display
	 * @param reason to display
	 */
	private void showExcpetionDialog(String message, String reason) {
		
		Rectangle guiBounds = this.getBounds();
		int width = getProperty(&quot;DialogWidth&quot;);
		int height = getProperty(&quot;DialogHeight&quot;);
		int xPos = guiBounds.x + (guiBounds.width - width) / 2;
		int yPos = guiBounds.y + (guiBounds.height - height) / 2;
		
		final JDialog dialog = new JDialog(this, true);
		dialog.setBounds(xPos, yPos, width, height);
		dialog.setLayout(new BorderLayout(10, 10));
		dialog.setTitle(guiText.getString(&quot;ExceptionDialogTitle&quot;));
		
		// message label
		JLabel messageLabel = new JLabel(message);
		JPanel messageLabelPanel = new JPanel();
		messageLabelPanel.add(messageLabel);
		
		// reason panel
		JTextArea reasonTextArea = new JTextArea(reason);
		JScrollPane reasonScrollPane = new JScrollPane(reasonTextArea);
		reasonScrollPane.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(guiText.getString(&quot;DetailsPanelTitle&quot;)), BorderFactory.createEmptyBorder(5,5,5,5)));
		reasonTextArea.setEditable(false);

		// ok button
		JButton okButton = new JButton(guiText.getString(&quot;OkButtonLabel&quot;));
		okButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				dialog.setVisible(false);
			}
		});
		
		// put all together
		dialog.add(messageLabelPanel, BorderLayout.NORTH);
		dialog.add(reasonScrollPane, BorderLayout.CENTER);
		dialog.add(okButton, BorderLayout.SOUTH);
		dialog.setVisible(true);
		
	}
	
	/**
	 * This method creates a exception dialog and sets it visible.
	 * 
	 * @param text to display
	 */
	private void showExcpetionDialog(String text) {
		
		showExcpetionDialog(text, null);
		
	}
	
	/**
	 * This method loads the ec specification from a file.
	 * 
	 * @param filename of ec specification file
	 * @return ec specification
	 * @throws Exception if specification could not be loaded
	 */
	private LRSpec getLRSpecFromFile(String filename) throws Exception {</pre></div></td></tr><table class="bodyTable"></p><p><table class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\fosstrak\ale\client\ALEClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALEClient.html#194">194</a></td></tr><tr class="a"><td>org\fosstrak\ale\client\ALELRClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALELRClient.html#192">192</a></td></tr><tr class="b"><td colspan='2'><div class="source"><pre>		this.setLocation(getProperty(&quot;WindowWidth&quot;), 0);
		this.setSize(getProperty(&quot;WindowWidth&quot;), getProperty(&quot;WindowHeight&quot;));
		this.setTitle(guiText.getString(&quot;ApplicationTitle&quot;));
		this.setJMenuBar(createMenuBar());
		
		this.setLayout(new BorderLayout());
		this.add(createCommandSelectionPanel(), BorderLayout.NORTH);
		this.add(commandSuperPanel, BorderLayout.CENTER);
		this.add(resultScrollPane, BorderLayout.SOUTH);
		
		commandSuperPanel.setLayout(new BorderLayout());
		commandSuperPanel.add(commandPanel, BorderLayout.NORTH);
		
		resultScrollPane.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(guiText.getString(&quot;ResultPanelTitle&quot;)), BorderFactory.createEmptyBorder(5,5,5,5)));
		
		resultTextArea.setEditable(false);
		
		this.setVisible(true);
		
	}

	/**
	 * This method creates the command selection panel.
	 * 
	 * @return command selection panel
	 */
	private JPanel createCommandSelectionPanel() {
		
		JPanel selectionPanel = new JPanel();
		selectionPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(guiText.getString(&quot;SelectionPanelTitle&quot;)), BorderFactory.createEmptyBorder(5,5,5,5)));
		
		commandSelection.setMaximumRowCount(13);</pre></div></td></tr><table class="bodyTable"></p><p><table class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\fosstrak\ale\client\ALEClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALEClient.html#745">745</a></td></tr><tr class="a"><td>org\fosstrak\ale\client\ALELRClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALELRClient.html#745">745</a></td></tr><tr class="b"><td colspan='2'><div class="source"><pre>		for (int i = 1; i &lt; 13; i++) {
			commands[i - 1] = guiText.getString(&quot;Command&quot; + i);			
		}
		return commands;
		
	}

	/**
	 * This method creates the menu bar.
	 * 
	 * @return menu bar
	 */
	private JMenuBar createMenuBar() {
		
		JMenuBar menuBar = new JMenuBar();
		menuBar.add(createFileMenu());
		
		return menuBar;
		
	}
	
	/**
	 * This method creates the file menu.
	 * 
	 * @return file menu
	 */
	private Component createFileMenu() {
		
		JMenu fileMenuItem = new JMenu(guiText.getString(&quot;FileMenu&quot;));
		
		JMenuItem exitMenuItem = new JMenuItem(guiText.getString(&quot;QuitMenuItem&quot;));
		exitMenuItem.addMouseListener(new MouseAdapter() {
			public void mouseReleased(MouseEvent e) {
				System.exit(0);
			}
		});
		fileMenuItem.add(exitMenuItem);
		
		return fileMenuItem;
		
	}

	/**
	 * This method gets a property value as integer.
	 * 
	 * @param key of the property
	 * @return property as integer value
	 */
	private int getProperty(String key) {
		
		String error;
		String value = props.getProperty(key);
		if(value == null) {
			error =  &quot;Value '&quot; + key + &quot;' not found in properties !&quot;;
		} else {
			try {
				return Integer.parseInt(value.trim());
			} catch (Exception e) {
				error = &quot;Value '&quot; + key + &quot;' is not an integer !&quot;;
			}
		}
		throw new NumberFormatException(error);
		
	}</pre></div></td></tr><table class="bodyTable"></p><p><table class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\fosstrak\ale\client\ALEClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALEClient.html#225">225</a></td></tr><tr class="a"><td>org\fosstrak\ale\client\ALELRClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALELRClient.html#223">223</a></td></tr><tr class="b"><td colspan='2'><div class="source"><pre>		commandSelection.setMaximumRowCount(13);
		
		commandSelection.addItem(null);
		for (String item : getCommands()) {
			commandSelection.addItem(item);
		}
		
		commandSelection.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent e) {
				if (&quot;comboBoxChanged&quot;.equals(e.getActionCommand())) {
					setCommandPanel(commandSelection.getSelectedIndex());
				}				
			}
		});
		
		selectionPanel.add(commandSelection);
		
		return selectionPanel;
		
	}

	/**
	 * This method sets the command selection panel depending on the command id.
	 * 
	 * @param command id
	 */
	private void setCommandPanel(int command) {
		
		if (command == -1) {
			commandPanel.removeAll();
			commandPanel.setBorder(null);
			this.setVisible(false);
			this.setVisible(true);
			return;
		}
		
		commandPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(guiText.getString(&quot;Command&quot; + command)), BorderFactory.createEmptyBorder(5,5,5,5)));
		commandPanel.removeAll();

		switch(command) {
		
			case 4: //getLRSpecNames
			case 11: // getStandardVersion</pre></div></td></tr><table class="bodyTable"></p><p><table class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\fosstrak\ale\client\ALEClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALEClient.html#693">693</a></td></tr><tr class="a"><td>org\fosstrak\ale\client\ALELRClient.java</td><td><a href="./xref/org/fosstrak/ale/client/ALELRClient.html#701">701</a></td></tr><tr class="b"><td colspan='2'><div class="source"><pre>		return DeserializerUtil.deserializeLRSpec(inputStream);
		
	}

	/**
	 * This method displays the result in the result text area.
	 * 
	 * @param result to display
	 */
	private void showResult(Object result) {
		
		resultTextArea.setText(null);
		if (result instanceof String) {
			resultTextArea.append((String)result);
		} else if (result instanceof ArrayOfString) {
			ArrayOfString resultStringArray = (ArrayOfString)result;
			if (resultStringArray.getString().size() == 0) {
				resultTextArea.append(guiText.getString(&quot;EmptyArray&quot;));
			} else {
				for (String s : resultStringArray.getString()) {
					resultTextArea.append(s);
					resultTextArea.append(&quot;\n&quot;);
				}
			}
		} else if (result instanceof LRSpec) {</pre></div></td></tr><table class="bodyTable"></p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2009
    
          
  

  
    
    
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-9846531-1");
      pageTracker._trackPageview();
      } catch(err) {}
      </script> 
  </body>
</html>
